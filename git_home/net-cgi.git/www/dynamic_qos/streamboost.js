function select_lable(a){if(a==0){document.getElementById("streamboost_qos").className="label_click"}else{document.getElementById("streamboost_qos").className="label_unclick"}if(a==1){document.getElementById("wmm").className="label_click"}else{document.getElementById("wmm").className="label_unclick"}select_num=a;if(select_num==0){if(top.have_advanced_qos=="1"){goto_formframe("QOS_wait.htm")}else{if(top.support_qos=="1"){goto_formframe("QOS_dynamic.htm")}else{goto_formframe("QOS_speedtest.htm")}}}else{this.location.href="QOS_wmm.htm"}}function wmmMain(){location.href="QOS_wmm.htm"}function qos_advanced(){if(top.support_qos=="1"){if($$("#speedtest").get(0).disabled==false){if(top.have_advanced_qos=="1"){this.location.href="QOS_basic_dynamic.htm"}else{this.location.href="QOS_dynamic.htm"}return}var b=document.forms[0];b.hid_cancel_speedtest.value="1";if(first_flag=="1"){b.hid_trend_micro_enable.value=0;b.hid_first_flag.value="0";parent.ookla_speedtest_flag=0}else{if(parent.ookla_speedtest_flag==1){parent.ookla_speedtest_flag=0}}if(top.have_advanced_qos=="1"){check_confirm(b,"QOS_basic_dynamic.htm",ts)}else{check_confirm(b,"QOS_dynamic.htm",ts)}}else{var b=document.forms[0];var a=window.location.href;if(first_flag=="1"){b.hid_streamboost_enable.value=0;b.hid_first_flag.value="0";parent.ookla_speedtest_flag=0;if(top.have_advanced_qos=="1"){check_confirm(b,"QOS_basic_dynamic.htm",ts)}else{check_confirm(b,a,ts)}}else{if(parent.ookla_speedtest_flag==1){parent.ookla_speedtest_flag=0}location.href=a}}}function qos_basic(){location.href="QOS_basic.htm"}function format_version(d){var c=d.substring(0,4);var b=d.substring(4,8);var a=d.substring(15);return parseInt(c)%2013+"."+b+"."+a}function format_time(e){var d=e.substring(0,4);var c=e.substring(4,6);var b=e.substring(6);var a=new Array("January","February","March","April","May","June","July","August","September","October","November","December");return a[parseInt(c)-1]+" "+b+", "+d}function confirm_dialox(){var a=document.forms[0];window.open("QOS_improve_service.htm","newwindow","resizable=no,scrollbars=no,toolbar=no,menubar=no,status=no,location=no,alwaysRaised=yes,z-look=yes,width=800,height=600,left=200,top=100").focus()}function setSpeed(a){if(a=="2"){sAlert("$set_bandwidth_warning");document.getElementById("define_radio1").style.display="";document.getElementById("define_radio2").style.display="";document.getElementById("speedtest_content").style.display="none"}else{document.getElementById("define_radio1").style.display="none";document.getElementById("define_radio2").style.display="none";document.getElementById("speedtest_content").style.display=""}}function clearNoNum(a){a.value=a.value.replace(/[^\d.]/g,"");a.value=a.value.replace(/^\./g,"");a.value=a.value.replace(/\.{2,}/g,".");a.value=a.value.replace(".","$#$").replace(/\./g,"").replace("$#$",".");a.value=a.value.replace(/^(\-)*(\d+)\.(\d\d)(\d).*$/,"$$1$$2.$$3")}function check_qos_apply(a){var a=document.forms[0];if(top.support_qos=="1"){if(top.have_advanced_qos==1){a.hid_trend_micro_enable.value=1}else{if(a.dynamic_qos_enable.checked==true){a.hid_trend_micro_enable.value=1}else{a.hid_trend_micro_enable.value=0}}}else{if(top.have_advanced_qos==1){a.hid_streamboost_enable.value=1}else{if(a.dynamic_qos_enable.checked==true){a.hid_streamboost_enable.value=1}else{a.hid_streamboost_enable.value=0}}}if(a.AutoUpdateEnable.checked==true){a.hid_detect_database.value=1}else{a.hid_detect_database.value=0;a.hid_update_agreement.value="1"}if(a.help_improve.checked==true){a.hid_improve_service.value=1}else{a.hid_improve_service.value=0}if(a.qosSetting[0].checked==true){a.hid_bandwidth_type.value=0}else{a.hid_bandwidth_type.value=1}if((top.support_qos=="1"&&a.AutoUpdateEnable.checked==true&&(first_flag!="0"||(first_flag=="0"&&a.qosSetting[0].checked==false))&&update_agreement=="1"&&a.hid_trend_micro_enable.value=="1")||(top.support_qos=="0"&&a.AutoUpdateEnable.checked==true&&(first_flag!="0"||(first_flag=="0"&&a.qosSetting[0].checked==false))&&update_agreement=="1"&&a.hid_streamboost_enable.value=="1")){sAlert("$share_mac_warn",function(){var b=document.forms[0];b.hid_update_agreement.value="0";check_qos_apply2()},function(){var b=document.forms[0];b.AutoUpdateEnable.checked=false;b.hid_detect_database.value=0;b.hid_update_agreement.value="1";check_qos_apply2()})}else{check_qos_apply2()}}function check_qos_apply2(){var a=document.forms[0];if((top.support_qos=="1"&&a.qosSetting[0].checked==true&&a.hid_trend_micro_enable.value=="1")||(top.support_qos=="0"&&a.qosSetting[0].checked==true&&a.hid_streamboost_enable.value=="1")){if(first_flag=="0"){sAlert("$warning_bandwidth",function(){var b=document.forms[0];if(internet_status=="0"){sAlert("$internet_down");return false}b.hid_first_flag.value="1";parent.ookla_speedtest_flag==1;check_qos_apply3()},function(){return false})}else{a.hid_first_flag.value="2";check_qos_apply3()}}else{check_qos_apply3()}}function check_qos_apply3(){var f=document.forms[0];if(top.support_qos=="1"){var b=parseFloat(f.uplink_value.value).toFixed(2);var c=parseFloat(f.downlink_value.value).toFixed(2);var e=0;if(isNaN(c)||isNaN(b)){e=1}else{f.downlink_value.value=c;f.uplink_value.value=b}}else{var a=parseFloat(f.uplink_value.value).toFixed(2);var d=parseFloat(f.downlink_value.value).toFixed(2)}if(f.qosSetting[1].checked==true){if((top.support_qos=="1"&&internet_status=="0"&&f.hid_trend_micro_enable.value=="1")||(top.support_qos=="0"&&internet_status=="0"&&f.hid_streamboost_enable.value=="1")){sAlert("$internet_down");return false}if(f.uplink_value.value==""||f.downlink_value.value==""){sAlert("$max_required");return false}else{if((top.support_qos=="1"&&b<0.1||b>1000||c<0.1||c>1000||e==1)||(top.support_qos=="0"&&a<0.1||a>1000||d<0.1||d>1000)){sAlert("$range_error");return false}else{if(top.support_qos=="1"){f.hid_trend_micro_uplink.value=parseInt((f.uplink_value.value)*1000000/8);f.hid_trend_micro_downlink.value=parseInt((f.downlink_value.value)*1000000/8)}else{f.hid_streamboost_uplink.value=parseInt((f.uplink_value.value)*1000000/8);f.hid_streamboost_downlink.value=parseInt((f.downlink_value.value)*1000000/8)}}}if(first_flag=="0"){f.hid_first_flag.value="0"}else{f.hid_first_flag.value="2"}}f.submit()}function check_wmm_apply(a){if(a.wmm_enable_2g.checked==true){a.qos_endis_wmm.value=1}else{a.qos_endis_wmm.value=0}if(a.wmm_enable_5g.checked==true){a.qos_endis_wmm_a.value=1}else{a.qos_endis_wmm_a.value=0}a.submit()}function check_confirm(b,a){b.hid_bandwidth_type.value=0;if(top.support_qos=="1"){if(b.uplink_value.value==""){b.hid_trend_micro_uplink.value=""}else{b.hid_trend_micro_uplink.value=parseInt((b.uplink_value.value)*1000000/8)}if(b.downlink_value.value==""){b.hid_trend_micro_downlink.value=""}else{b.hid_trend_micro_downlink.value=parseInt((b.downlink_value.value)*1000000/8)}if(b.AutoUpdateEnable.checked==true){b.hid_detect_database.value=1}else{b.hid_detect_database.value=0}if(b.help_improve.checked==true){b.hid_improve_service.value=1}else{b.hid_improve_service.value=0}b.submit_flag.value="apply_trend_micro"}else{b.submit_flag.value="apply_streamboost"}b.action="/apply.cgi?/"+a+" timestamp="+ts;b.submit()}function check_basic_ookla_speedtest(a){if(internet_status=="0"){sAlert("$internet_down");return false}parent.ookla_speedtest_flag=1;a.submit_flag.value="ookla_speedtest";a.action="/func.cgi?/QOS_basic.htm timestamp="+ts;a.submit();return true}function check_ookla_speedtest(a){if((top.support_qos=="1"&&internet_status=="0"&&location.href.indexOf("QOS_dynamic.htm")>0)||(top.support_qos=="0"&&internet_status=="0")){getObj("indicate").innerHTML="$speedtest_connect";getObj("indicate").style.color="red";if(top.support_qos=="1"){setTimeout('location.href="QOS_dynamic.htm"',2000)}else{setTimeout('location.href="QOS_speedtest.htm"',2000)}return false}if(location.href.indexOf("QOS_dynamic.htm")>0){a.submit_flag.value="ookla_speedtest";a.action="/func.cgi?/QOS_dynamic.htm timestamp="+ts;parent.ookla_speedtest_flag=1}else{if(location.href.indexOf("QOS_basic_setting.htm")>0){if(top.support_qos=="1"){if(internet_status=="0"){sAlert("$internet_down");return false}}a.submit_flag.value="basic_qos_ookla_speedtest";a.action="/func.cgi?/QOS_basic_setting.htm timestamp="+ts;parent.basic_qos_ookla_speedtest_flag=1}else{if(top.support_qos=="0"&&location.href.indexOf("QOS_speedtest.htm")>0){a.submit_flag.value="ookla_speedtest";a.action="/func.cgi?/QOS_speedtest.htm timestamp="+ts;parent.ookla_speedtest_flag=1}}}a.submit();return true}function check_basic_manual_update(a){if(internet_status=="0"){sAlert("$internet_down");return false}a.submit_flag.value="detect_update";a.action="/apply.cgi?/QOS_basic.htm timestamp="+ts;a.submit();return true}function check_manual_update(a){if(internet_status=="0"){sAlert("$internet_down");return false}a.submit_flag.value="detect_update";a.action="/apply.cgi?/QOS_dynamic.htm timestamp="+ts;a.submit();return true}function device_icon(a){if(a<1||a>51){a=47}return"<img src=image/streamboost/"+a+".jpg width=66px height=44px id=icon_img />"}function edit_select_device(h,g,c,d,e,b,a){var f=document.forms[0];if(h){parent.qos_edit_mac=h}if(g){parent.qos_edit_ip=g}if(c){parent.qos_edit_name=c}if(d){parent.qos_edit_priority=d}if(e){parent.qos_edit_devtype=e}if(b){parent.qos_edit_contype=b}if(a){parent.qos_edit_onOff=a}location.href="QOS_edit_devices.htm"}function select_device(f,e,b,c,d,a){parent.qos_edit_mac=f;parent.qos_edit_ip=e;parent.qos_edit_name=b;parent.qos_edit_priority=c;parent.qos_edit_devtype=d;parent.qos_edit_contype=a;if(top.is_ru_version==1){document.getElementsByName("edit")[0].className="common_bt"}else{document.getElementsByName("edit")[0].className="short_common_bt"}document.getElementsByName("edit")[0].disabled=false}function show_bora(a){var b="";if(enable_block_device=="1"){if(a=="Allowed"){b="<b style='color:#5bb6e5'>$acc_allow</b>"}else{if(a=="Blocked"){b="<b style='color:#ff1300'>$acc_block</b>"}else{b="<b style='color:#ff1300'>$acc_block</b>"}}}return b}function show_icon_name(a){var b="$qos_device47";if(a=="1"){b="$qos_device1"}else{if(a=="2"){b="$qos_device2"}else{if(a=="3"){b="$qos_device3"}else{if(a=="4"){b="$qos_device4"}else{if(a=="5"){b="$qos_device5"}else{if(a=="6"){b="$qos_device6"}else{if(a=="7"){b="$qos_device7"}else{if(a=="8"){b="$qos_device8"}else{if(a=="9"){b="$qos_device9"}else{if(a=="10"){b="$qos_device10"}else{if(a=="11"){b="$qos_device11"}else{if(a=="12"){b="$qos_device12"}else{if(a=="13"){b="$qos_device13"}else{if(a=="14"){b="$qos_device14"}else{if(a=="15"){b="$qos_device15"}else{if(a=="16"){b="$qos_device16"}else{if(a=="17"){b="$qos_device17"}else{if(a=="18"){b="$qos_device18"}else{if(a=="19"){b="$qos_device19"}else{if(a=="20"){b="$qos_device20"}else{if(a=="21"){b="$qos_device21"}else{if(a=="22"){b="$qos_device22"}else{if(a=="23"){b="$qos_device23"}else{if(a=="24"){b="$qos_device24"}else{if(a=="25"){b="$qos_device25"}else{if(a=="26"){b="$qos_device26"}else{if(a=="27"){b="$qos_device27"}else{if(a=="28"){b="$qos_device28"}else{if(a=="29"){b="$qos_device29"}else{if(a=="30"){b="$qos_device30"}else{if(a=="31"){b="$qos_device31"}else{if(a=="32"){b="$qos_device32"}else{if(a=="33"){b="$qos_device33"}else{if(a=="34"){b="$qos_device34"}else{if(a=="35"){b="$qos_device35"}else{if(a=="36"){b="$qos_device36"}else{if(a=="37"){b="$qos_device37"}else{if(a=="38"){b="$qos_device38"}else{if(a=="39"){b="$qos_device39"}else{if(a=="40"){b="$qos_device40"}else{if(a=="41"){b="$qos_device41"}else{if(a=="42"){b="$qos_device42"}else{if(a=="43"){b="$qos_device43"}else{if(a=="44"){b="$qos_device44"}else{if(a=="45"){b="$qos_device45"}else{if(a=="46"){b="$qos_device46"}else{if(a=="47"){b="$qos_device47"}else{if(a=="48"){b="$qos_device48"}else{if(a=="49"){b="$qos_device49"}else{if(a=="50"){b="$qos_device50"}else{if(a=="51"){b="$qos_device51"}else{b="$qos_device47"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return b}function show_type_name(a){var b="";if(a=="wired"){b="$acc_wired"}else{if(a=="primary"){b="2.4G $wireless"}else{if(a=="guest"){b="2.4G $guest_wireless"}else{if(a=="gre"){b="2.4G $guest_wireless"}else{if(a=="primary_an"){b="5G $wireless"}else{if(a=="guest_an"){b="5G $guest_wireless"}else{if(a=="gre_an"){b="5G $guest_wireless"}else{if(a=="vpn"){b="$qos_vpn"}else{if(a=="primary_ad"){b="60G $wireless"}else{b="$acc_wired"}}}}}}}}}return b}function sort_bandwidth(d,c){return(d.down_rate<c.down_rate)?1:-1}function sort_alp(d,c){return(d.name.toLowerCase()>c.name.toLowerCase())?1:-1}function sort_con(d,c){return(d.contype<c.contype)?1:-1}function sort_on_off(d,c){return(d.isOnOff<c.isOnOff)?1:-1}function show_type2(a){var b="";if(a=="wired"){b="<img src=image/eth.gif />"}else{if(a=="primary"){b="<img src=image/wifi.png /><b class='short'>2.4G</b>"}else{if(a=="guest"){b="<img src=image/wifi.png /><b class='long'>2.4G Guest</b>"}else{if(a=="gre"){b="<img src=image/wifi.png /><b class='long'>2.4G Guest</b>"}else{if(a=="primary_an"){b="<img src=image/wifi.png /><b class='short'>5G</b>"}else{if(a=="guest_an"){b="<img src=image/wifi.png /><b class='long'>5G Guest</b>"}else{if(a=="gre_an"){b="<img src=image/wifi.png /><b class='long'>5G Guest</b>"}else{if(a=="vpn"){b="<img src=image/vpn.gif />"}else{if(a=="primary_ad"){b="<img src=image/wifi.png /><b class='short'>60G</b>"}else{b="<img src=image/eth.gif />"}}}}}}}}}return b}function show_type(a){var b="";if(a=="wired"){b="<div class='eth'></div>"}else{if(a=="primary"){b="<div class='wifi'>2.4G</div>"}else{if(a=="guest"){b="<div class='wifi'>2.4G Guest</div>"}else{if(a=="gre"){b="<div class='wifi'>2.4G Guest</div>"}else{if(a=="primary_an"){b="<div class='wifi'>5G</div>"}else{if(a=="guest_an"){b="<div class='wifi'>5G Guest</div>"}else{if(a=="gre_an"){b="<div class='wifi'>5G Guest</div>"}else{if(a=="vpn"){b="<div class='contype'></div>"}else{if(a=="primary_ad"){b="<div class='wifi'>60G</div>"}else{b="<div class='eth'></div>"}}}}}}}}}return b}function show_priority(a){var b="";if(a=="HIGHEST"){b="$qos_highest"}else{if(a=="HIGH"){b="$qos_high"}else{if(a=="MEDIUM"){b="$medium_mark"}else{if(a=="LOW"){b="$qos_low"}else{b="$medium_mark"}}}}return b}function show_pri_num(a){var b="2";if(a=="HIGHEST"){b="4"}else{if(a=="HIGH"){b="3"}else{if(a=="MEDIUM"){b="2"}else{if(a=="LOW"){b="1"}else{b="2"}}}}return b}function TSorter(i){var n=Object;var k=Array;var a=Array;var m=Object;var c=i;var g=Object;function d(){}function l(o){return k[o].cells[m]}this.init=function(o){n=document.getElementById(o);a=n.getElementsByTagName("th");for(var p=1;p<a.length;p++){a[p].onclick=function(){f(this)}}return true};this.def_sort=function(o,p){n=document.getElementById(o);a=n.getElementsByTagName("th");f(a[p]);return true};function f(p){m=p.cellIndex;g=p.abbr;k=n.tBodies[0].getElementsByTagName("tr");h(g);for(var o=0;o<k.length;o++){if(k[o].className=="detail_row"){closeDetails(o+2)}}if(c==m){p.className=(p.className!="descend"?"descend":"ascend");b()}else{p.className="descend";if(a[c].className!="exc_cell"){a[c].className=""}e(0,k.length)}c=m}function h(o){switch(o){case"float_text":d=function(p){return parseFloat(l(p).firstChild.value)};break;case"str_text":d=function(p){return l(p).firstChild.value};break;case"ip_text":d=function(q){var r=l(q).firstChild.nodeValue;var p=r.split(".");split_part=parseInt(p[0])+parseInt(p[1])+parseInt(p[2])+parseInt(p[3],10);return parseInt(split_part)};break;default:d=function(p){return l(p).firstChild.nodeValue};break}}function j(p,o){if(p==o+1){n.tBodies[0].insertBefore(k[p],k[o])}else{if(o==p+1){n.tBodies[0].insertBefore(k[o],k[p])}else{var q=n.tBodies[0].replaceChild(k[p],k[o]);if(typeof(k[p])=="undefined"){n.appendChild(q)}else{n.tBodies[0].insertBefore(q,k[p])}}}}function b(){for(var o=1;o<k.length;o++){n.tBodies[0].insertBefore(k[o],k[0])}}function e(s,q){if(q<=s+1){return}if((q-s)==2){if(d(q-1)>d(s)){j(q-1,s)}return}var r=s+1;var p=q-1;if(d(s)>d(r)){j(r,s)}if(d(p)>d(s)){j(s,p)}if(d(s)>d(r)){j(r,s)}var o=d(s);while(true){p--;while(o>d(p)){p--}r++;while(d(r)>o){r++}if(p<=r){break}j(r,p)}j(s,p);if((p-s)<(q-p)){e(s,p);e(p+1,q)}else{e(p+1,q);e(s,p)}}}function show_or_hid_refresh(b,a){if(a==0){if(b.enable_auto_refresh.checked){b.hid_dev_auto_refresh.value="1"}else{b.hid_dev_auto_refresh.value="0"}b.action="/apply.cgi?/QOS_show_device.htm timestamp="+ts;b.submit_flag.value="auto_refresh_value";b.submit()}else{if(b.enable_auto_refresh.checked){b.hid_ap_auto_refresh.value="1"}else{b.hid_ap_auto_refresh.value="0"}b.submit()}}var type_list={"1":["Amazon Kindle","20","1"],"2":["Android Device","20","2"],"3":["Android Phone","30","3"],"4":["Android Tablet","20","4"],"5":["Apple Airport Express","20","5"],"6":["Blu-ray player","10","6"],"7":["Bridge","20","7"],"8":["Cable STB","10","8"],"9":["Camera","30","9"],"10":["Router","20","10"],"11":["DVR","10","11"],"12":["Gaming Console","10","12"],"13":["iMac","20","13"],"14":["iPad","20","14"],"15":["iPad mini","20","15"],"16":["iPhone 5/5S/5C","30 ","16"],"17":["iPhone","30","17"],"18":["iPod Touch","30","18"],"19":["Linux PC","20","19"],"20":["Mac mini","20","20"],"21":["Mac Pro","20","21"],"22":["Mac Book","20","22"],"23":["Media Device","10","23"],"24":["Network Device","30","24"],"25":["Other STB","10","25"],"26":["Powerline","20","26"],"27":["Printer","30","27"],"28":["Repeater","20","28"],"29":["Satellite STB","10","29"],"30":["scanner","30","30"],"31":["Sling box","10","31"],"32":["Smart phone","30","32"],"33":["Storage (NAS)","40","33"],"34":["Switch","20","34"],"35":["TV","10","35"],"36":["Tablet","20","36"],"37":["Unix PC","20","37"],"38":["Windows PC","20","38"],"39":["Surface","20","39"],"40":["Wifi Extender","20","40"],"41":["Apple TV","10","41"],"42":["AV Receiver","10","42"],"43":["Chromcast","10","43"],"44":["Google Nexus 5","30 ","44"],"45":["Google Nexus 7","30","45"],"46":["Google Nexus 10","20","46"],"47":["Other","30","47"],"48":["WN1000RP","20","48"],"49":["WN2500RP","20","49"],"50":["VoIP","10","50"],"51":["Iphone6","30","51"],"52":["Arlo","20","52"],"53":["Amazon Fire TV","20","53"],"54":["Smart Watch","20","54"]};